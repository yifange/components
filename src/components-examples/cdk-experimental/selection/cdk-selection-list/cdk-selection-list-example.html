<h3><code>native input</code></h3>
Selected: <span *ngFor="let selected of selectionSet1" style="margin: 0 5px">{{selected}}</span>
<ul cdkSelection [dataSource]="data" [cdkSelectionMultiple]="true" (cdkSelectionChange)="selectionChanged($event, selectionSet1)">
  <input type="checkbox" cdkSelectAll #allToggler="cdkSelectAll"
      [checked]="allToggler.checked$ | async"
      [indeterminate]="allToggler.indeterminate$ | async"
      (click)="allToggler.toggle($event)">
  <li *ngFor="let item of data">
    <input type="checkbox" cdkSelectionToggle #toggler="cdkSelectionToggle" [cdkSelectionToggleValue]="item"
      [checked]="toggler.checked$ | async" (click)="toggler.toggle()">
    {{item}}
  </li>
</ul>

<h3><code>mat-checkbox</code></h3>
Selected: <span *ngFor="let selected of selectionSet2" style="margin: 0 5px">{{selected}}</span>
<ul cdkSelection [dataSource]="data" [cdkSelectionMultiple]="true" (cdkSelectionChange)="selectionChanged($event, selectionSet2)">
  <mat-checkbox cdkSelectAll #toggle1="cdkSelectAll" [indeterminate]="toggle1.indeterminate$ | async"></mat-checkbox>
  <li *ngFor="let item of data">
    <mat-checkbox cdkSelectionToggle [cdkSelectionToggleValue]="item"></mat-checkbox>
    {{item}}
  </li>
</ul>

<h3><code>with trackBy</code></h3>
Selected: <span *ngFor="let selected of selectionSet3" style="margin: 0 5px">{{selected}}</span>
<ul cdkSelection [dataSource]="data" [cdkSelectionMultiple]="true" [trackBy]="trackByFn" (cdkSelectionChange)="selectionChanged($event, selectionSet3)">
  <mat-checkbox cdkSelectAll #toggle2="cdkSelectAll" [indeterminate]="toggle2.indeterminate$ | async"></mat-checkbox>
  <li *ngFor="let item of data; index as i; trackBy: trackByFn">
    <mat-checkbox cdkSelectionToggle [cdkSelectionToggleValue]="item" [cdkSelectionToggleIndex]="i"></mat-checkbox>
    {{item}}
  </li>
</ul>

<button (click)="changeElementName()">Change element names</button>
